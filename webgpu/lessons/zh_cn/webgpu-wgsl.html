<!DOCTYPE html><!-- this file is auto-generated from webgpu/lessons/zh_cn/webgpu-wgsl.md. Do not edited directly --><!--
Copyright 2023, GfxFundamentals Contributors
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

* Redistributions of source code must retain the above copyright
  notice, this list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above
  copyright notice, this list of conditions and the following disclaimer
  in the documentation and/or other materials provided with the
  distribution.

* Neither the name of GfxFundamentals nor the names of the
  contributors may be used to endorse or promote products derived from
  this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


--><html lang="zh-cn"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="WebGPUç€è‰²è¯­è¨€ç®€ä»‹">
<meta name="keywords" content="webgpu graphics">
<meta name="thumbnail" content="https://webgpufundamentals.org/webgpu/lessons/screenshots/webgpu-wgsl_zh-cn.jpg">

<meta property="og:title" content="WebGPU WGSL">
<meta property="og:type" content="website">
<meta property="og:image" content="https://webgpufundamentals.org/webgpu/lessons/screenshots/webgpu-wgsl_zh-cn.jpg">
<meta property="og:description" content="WebGPUç€è‰²è¯­è¨€ç®€ä»‹">
<meta property="og:url" content="https://webgpufundamentals.org/webgpu/lessons/zh_cn/webgpu-wgsl.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@greggman">
<meta name="twitter:creator" content="@greggman">
<meta name="twitter:domain" content="webgpufundamentals.org">
<meta name="twitter:title" content="WebGPU WGSL">
<meta name="twitter:url" content="https://webgpufundamentals.org/webgpu/lessons/zh_cn/webgpu-wgsl.html">
<meta name="twitter:description" content="WebGPUç€è‰²è¯­è¨€ç®€ä»‹">
<meta name="twitter:image:src" content="https://webgpufundamentals.org/webgpu/lessons/screenshots/webgpu-wgsl_zh-cn.jpg">

<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webgpufundamentals.org/#website",
      "url":"https://webgpufundamentals.org/",
      "name":"webgpufundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webgpufundamentals.org/webgpu/lessons/zh_cn/webgpu-wgsl.html#primaryimage",
      "url":"https://webgpufundamentals.org/webgpu/lessons/screenshots/webgpu-wgsl_zh-cn.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webgpufundamentals.org/webgpu/lessons/zh_cn/webgpu-wgsl.html#webpage",
      "url":"https://webgpufundamentals.org/webgpu/lessons/zh_cn/webgpu-wgsl.html",
      "inLanguage":"zh-cn",
      "name":"WebGPU WGSL",
      "keywords":"webgpu graphics programming",
      "isPartOf":{
        "@id":"https://webgpufundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webgpufundamentals.org/webgpu/lessons/zh_cn/webgpu-wgsl.html#primaryimage"
      }
    }
  ]
}
</script>

<title>WebGPU WGSL</title>
<link href="/webgpu/lessons/resources/webgpufundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="apple-touch-icon" href="/webgpu/lessons/resources/webgpufundamentals-icon.png">
<link rel="icon" href="/webgpu/lessons/resources/webgpufundamentals-icon.png">

<link rel="stylesheet" href="/webgpu/lessons/lang.css">
<link rel="stylesheet" href="/webgpu/lessons/zh_cn/lang.css">
<link rel="stylesheet" href="/webgpu/lessons/resources/lesson.css">
</head>
<body>
<div class="webgpu_navbar">
  <div>
    <select class="language">
    <option value="/webgpu/lessons/webgpu-wgsl.html">English
    </option><option value="/webgpu/lessons/es/webgpu-wgsl.html">Spanish
    </option><option value="/webgpu/lessons/ja/webgpu-wgsl.html">æ—¥æœ¬èª
    </option><option value="/webgpu/lessons/ko/webgpu-wgsl.html">í•œêµ­ì–´
    </option><option value="/webgpu/lessons/ru/webgpu-wgsl.html">Ğ ÑƒÑÑĞºĞ¸Ğ¹
    </option><option value="/webgpu/lessons/tr/webgpu-wgsl.html">TÃ¼rkÃ§e
    </option><option value="/webgpu/lessons/uk/webgpu-wgsl.html">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°
    </option><option value="/webgpu/lessons/zh_cn/webgpu-wgsl.html" selected="">ç®€ä½“ä¸­æ–‡
</option></select>


    <a href="#toc">ç›®å½•</a>
    <input type="search" placeholder="?" id="search">
  </div>
</div>
<div class="webgpu_header">
  <h1><a href="/webgpu/lessons/zh_cn/">webgpufundamentals.org</a></h1>
<style>
#forkongithub>div {
    background: #000;
    color: #fff;
    font-family: arial,sans-serif;
    text-align: center;
    font-weight: bold;
    padding: 5px 40px;
    font-size: 0.9rem;
    line-height: 1.3rem;
    position: relative;
    transition: 0.5s;
    display: block;
    width: 400px;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(160px) rotate(45deg) translate(10px,70px);
    box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
    pointer-events: auto;
}
#forkongithub a {
  text-decoration: none;
  color: #fff;
}
#forkongithub>div:hover {
    background: #c11;
    color: #fff;
}
#forkongithub .contributors {
  font-size: 0.75rem;
  background: rgba(255,255,255,0.2);
  line-height: 1.2;
  padding: 0.1em;
}
#forkongithub>div::before,#forkongithub>div::after {
    content: "";
    width: 100%;
    display: block;
    position: absolute;
    top: 1px;
    left: 0;
    height: 1px;
    background: #fff;
}
#forkongithub>div::after {
    bottom: 1px;
    top: auto;
}

#forkongithub{
    z-index: 9999;
    /* needed for firefox */
    overflow: hidden;
    width: 300px;
    height: 300px;
    position: absolute;
    right: 0;
    top: 0;
    pointer-events: none;
}
#forkongithub svg{
  width: 1em;
  height: 1em;
  vertical-align: middle;
}
#forkongithub img {
  width: 1em;
  height: 1em;
  border-radius: 100%;
  vertical-align: middle;
}

@media (max-width: 900px) {
    #forkongithub>div {
        line-height: 1.2rem;
    }
}
@media (max-width: 700px) {
  #forkongithub {
    display: none;
  }
}
@media (max-width: 410px) {
    #forkongithub>div {
        font-size: 0.7rem;
        transform: translateX(150px) rotate(45deg) translate(20px,40px);
    }
}

</style>
<div id="forkongithub">
  <div>
    <div><a href="https://github.com/webgpu/webgpufundamentals">Fix, Fork, Contribute <!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904" style="fill:white;"></path>
    </g>
</svg>
</a></div>
  </div>
</div>

</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGPU WGSL</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>å¯¹äºWGSLçš„æ·±å…¥æ¦‚è¿°ï¼Œè¯·å‚è§ <a href="https://google.github.io/tour-of-wgsl/">Tour of WGSL</a>ã€‚
æˆ‘ä»¬è¿˜æœ‰ <a href="https://www.w3.org/TR/WGSL/">å®é™…çš„WGSLè§„èŒƒ</a> ï¼Œå°½ç®¡å®ƒæ˜¯ä¸º <a href="http://catb.org/jargon/html/L/language-lawyer.html">è¯­è¨€å¾‹å¸ˆä»¬</a> ç¼–å†™çš„ï¼Œå¯èƒ½éš¾ä»¥ç†è§£ ğŸ˜‚</p>
<p>æœ¬æ–‡å‡è®¾æ‚¨å·²ç»çŸ¥é“å¦‚ä½•ç¼–ç¨‹ã€‚å®ƒå¯èƒ½è¿‡äºç®€ç•¥ï¼Œä½†å¸Œæœ›å®ƒèƒ½å¸®åŠ©æ‚¨ç†è§£å’Œç¼–å†™WGSLç€è‰²ç¨‹åºã€‚</p>
<h2 id="wgsl-æ˜¯ä¸¥æ ¼ç±»å‹çš„">WGSL æ˜¯ä¸¥æ ¼ç±»å‹çš„</h2>
<p>ä¸ JavaScript ä¸åŒï¼ŒWGSL è¦æ±‚äº†è§£æ¯ä¸ªå˜é‡ã€ç»“æ„å­—æ®µã€å‡½æ•°å‚æ•°å’Œå‡½æ•°è¿”å›ç±»å‹çš„å…·ä½“ç±»å‹ã€‚å¦‚æœæ‚¨ä½¿ç”¨è¿‡TypeScriptã€Rustã€C++ã€C#ã€Javaã€Swiftã€Kotlin ç­‰ï¼Œé‚£ä¹ˆæ‚¨å¯¹æ­¤åº”è¯¥å¾ˆç†Ÿæ‚‰ã€‚</p>
<h3 id="åŸºæœ¬ç±»å‹">åŸºæœ¬ç±»å‹</h3>
<p>WGSL ä¸­åŒ…æ‹¬è¿™äº›<em>åŸºæœ¬</em>ç±»å‹</p>
<ul>
<li><code class="notranslate" translate="no">i32</code> ä¸€ä¸ª32ä½æœ‰ç¬¦å·æ•´æ•°</li>
<li><code class="notranslate" translate="no">u32</code> ä¸€ä¸ª32ä½æ— ç¬¦å·æ•´æ•°</li>
<li><code class="notranslate" translate="no">f32</code> ä¸€ä¸ª32ä½æµ®ç‚¹æ•°</li>
<li><code class="notranslate" translate="no">bool</code> ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li><code class="notranslate" translate="no">f16</code> ä¸€ä¸ª16ä½æµ®ç‚¹æ•°ï¼ˆè¿™æ˜¯ä¸€ä¸ªå¯é€‰ç‰¹æ€§ï¼Œä½¿ç”¨å‰è¯·æ£€æŸ¥å¹¶è¯·æ±‚ï¼‰</li>
</ul>
<h3 id="å˜é‡å£°æ˜">å˜é‡å£°æ˜</h3>
<p>åœ¨JavaScriptä¸­ï¼Œæ‚¨å¯ä»¥åƒè¿™æ ·å£°æ˜å˜é‡å’Œå‡½æ•°ï¼š</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">var a = 1;
let c = 3;
function d(e) { return e * 2; }
</pre>
<p>åœ¨WGSLä¸­ï¼Œè¿™äº›å£°æ˜çš„å®Œæ•´å½¢å¼å°†ä¼šæ˜¯ï¼š</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">var a: f32 = 1;
let c: f32 = 3;
fn d(e: f32) -&gt; f32 { return e * 2; }
</pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨å˜é‡å£°æ˜ä¸­æ·»åŠ äº† <code class="notranslate" translate="no">: &lt;ç±»å‹&gt;</code>ï¼Œä¾‹å¦‚ <code class="notranslate" translate="no">: f32</code>ï¼Œä»¥åŠåœ¨å‡½æ•°å£°æ˜ä¸­æ·»åŠ äº† <code class="notranslate" translate="no">-&gt; &lt;ç±»å‹&gt;</code>ã€‚</p>
<h3 id="è‡ªåŠ¨ç±»å‹">è‡ªåŠ¨ç±»å‹</h3>
<p>WGSLä¸ºå˜é‡æä¾›äº†ä¸€ä¸ª<em>å¿«æ·æ–¹å¼</em>ã€‚ç±»ä¼¼äº TypeScriptï¼Œå¦‚æœæ‚¨æ²¡æœ‰å£°æ˜å˜é‡çš„ç±»å‹ï¼Œåˆ™å®ƒå°†è‡ªåŠ¨æˆä¸ºå³ä¾§è¡¨è¾¾å¼çš„ç±»å‹ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">fn foo() -&gt; bool { return false; }

var a = 1;     // a æ˜¯ i32 ç±»å‹
let b = 2.0;   // b æ˜¯ f32 ç±»å‹
var c = 3u;    // c æ˜¯ u32 ç±»å‹
var d = foo(); // d æ˜¯ bool ç±»å‹
</pre>
<h3 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</h3>
<p>æ­¤å¤–ï¼Œä¸¥æ ¼çš„ç±»å‹æ„å‘³ç€æ‚¨ç»å¸¸éœ€è¦è½¬æ¢ç±»å‹ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = 1;     // a æ˜¯ i32 ç±»å‹
let b = 2.0;   // b æ˜¯ f32 ç±»å‹
*let c = a + b; // é”™è¯¯ï¼šä¸èƒ½å°†ä¸€ä¸ª i32 çš„å€¼æ·»åŠ åˆ° f32 çš„å€¼ä¸Š
</pre>
<p>ä¸ºäº†ä¿®å¤è¯¥é”™è¯¯ï¼Œæˆ‘ä»¬å°†å…¶ä¸­ä¸€ä¸ªå˜é‡çš„ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ä¸ªçš„ç±»å‹ï¼š</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = 1;     // a æ˜¯ i32 ç±»å‹
let b = 2.0;   // b æ˜¯ f32 ç±»å‹
let c = f32(a) + b; // è¿™æ ·å°±è¡Œäº†
</pre>
<p>ä½†æ˜¯ï¼WGSLæœ‰æ‰€è°“çš„ â€œæŠ½è±¡æ•´æ•°ï¼ˆAbstractIntï¼‰â€ å’Œ â€œæŠ½è±¡æµ®ç‚¹æ•°ï¼ˆAbstractFloatï¼‰â€ ã€‚æ‚¨å¯ä»¥å°†å®ƒä»¬è§†ä¸ºå°šæœªå†³å®šå…¶ç±»å‹çš„æ•°å­—ã€‚è¿™äº›éƒ½æ˜¯ä»…åœ¨ç¼–è¯‘æ—¶æœ‰æ•ˆçš„ç‰¹æ€§ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = 1;            // a æ˜¯ i32 ç±»å‹
let b = 2.0;          // b æ˜¯ f32 ç±»å‹
*let c = a + b;       // é”™è¯¯ï¼šä¸èƒ½å°†ä¸€ä¸ª i32 çš„å€¼æ·»åŠ åˆ° f32 çš„å€¼ä¸Š
let d = 1 + 2.0;      // d æ˜¯ f32 ç±»å‹
</pre>
<h3 id="æ•°å€¼åç¼€">æ•°å€¼åç¼€</h3>
<pre class="prettyprint showlinemods notranslate notranslate" translate="no">2i   // i32
3u   // u32
4f   // f32
4.5f // f32
5h   // f16
5.6h // f16
6    // æŠ½è±¡æ•´æ•°
7.0  // æŠ½è±¡æµ®ç‚¹æ•°
</pre>
<h2 id="let-var-å’Œ-const-åœ¨-wgsl-å’Œ-javascript-ä¸­çš„å«ä¹‰ä¸åŒ"><code class="notranslate" translate="no">let</code> <code class="notranslate" translate="no">var</code> å’Œ <code class="notranslate" translate="no">const</code> åœ¨ WGSL å’Œ Javascript ä¸­çš„å«ä¹‰ä¸åŒ</h2>
<p>åœ¨JavaScriptä¸­ï¼Œ<code class="notranslate" translate="no">var</code> æ˜¯ä¸€ä¸ªå…·æœ‰å‡½æ•°ä½œç”¨åŸŸçš„å˜é‡ã€‚<code class="notranslate" translate="no">let</code> æ˜¯ä¸€ä¸ªå…·æœ‰å—ä½œç”¨åŸŸçš„å˜é‡ã€‚<code class="notranslate" translate="no">const</code> æ˜¯ä¸€ä¸ªå¸¸é‡å˜é‡ï¼ˆä¸èƒ½æ”¹å˜ï¼‰<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œå…·æœ‰å—ä½œç”¨åŸŸã€‚</p>
<p>åœ¨WGSLä¸­ï¼Œæ‰€æœ‰å˜é‡éƒ½å…·æœ‰å—ä½œç”¨åŸŸã€‚<code class="notranslate" translate="no">var</code> æ˜¯ä¸€ä¸ªå…·æœ‰å­˜å‚¨ç©ºé—´çš„å˜é‡ï¼Œå› æ­¤æ˜¯å¯å˜çš„ã€‚<code class="notranslate" translate="no">let</code> æ˜¯ä¸€ä¸ªå¸¸é‡å€¼ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">fn foo() {
  let a = 1;
*  a = a + 1;  // é”™è¯¯ï¼ša æ˜¯å¸¸é‡è¡¨è¾¾å¼
  var b = 2;
  b = b + 1;  // å½³äº
}
</pre>
<p><code class="notranslate" translate="no">const</code> ä¸æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ã€‚æ‚¨ä¸èƒ½å°† <code class="notranslate" translate="no">const</code> ç”¨äºè¿è¡Œæ—¶ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">const one = 1;              // å½³äº
const two = one * 2;        // å¾ˆå¥½
const PI = radians(180.0);  // æ²¡é—®é¢˜

fn add(a: f32, b: f32) -&gt; f32 {
*  const result = a + b;   // é”™è¯¯ï¼const åªèƒ½ç”¨äºç¼–è¯‘æ—¶è¡¨è¾¾å¼
  return result;
}
</pre>
<h2 id="å‘é‡ç±»å‹">å‘é‡ç±»å‹</h2>
<p>WGSLæœ‰ä¸‰ç§å‘é‡ç±»å‹ <code class="notranslate" translate="no">vec2</code>, <code class="notranslate" translate="no">vec3</code>, å’Œ <code class="notranslate" translate="no">vec4</code>ã€‚å®ƒä»¬çš„åŸºæœ¬æ ·å¼æ˜¯ <code class="notranslate" translate="no">vec?&lt;type&gt;</code>
ä¾‹å¦‚ <code class="notranslate" translate="no">vec2&lt;i32&gt;</code> ï¼ˆä¸¤ä¸ªi32çš„å‘é‡ï¼‰, <code class="notranslate" translate="no">vec3&lt;f32&gt;</code>ï¼ˆä¸‰ä¸ªf32çš„å‘é‡ï¼‰, <code class="notranslate" translate="no">vec4&lt;u32&gt;</code>ï¼ˆå››ä¸ªu32çš„å‘é‡ï¼‰,
<code class="notranslate" translate="no">vec3&lt;bool&gt;</code>ï¼ˆä¸‰ä¸ªå¸ƒå°”å€¼çš„å‘é‡ï¼‰ã€‚</p>
<p>ç¤ºä¾‹:</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec2&lt;i32&gt;(1, -2);
let b = vec3&lt;f32&gt;(3.4, 5.6, 7.8);
let c = vec4&lt;u32&gt;(9, 10, 11, 12);
</pre>
<h3 id="é€‰æ‹©å™¨ï¼ˆaccessorsï¼‰">é€‰æ‹©å™¨ï¼ˆaccessorsï¼‰</h3>
<p>æ‚¨å¯ä»¥ä½¿ç”¨å„ç§é€‰æ‹©å™¨æ¥è®¿é—®å‘é‡å†…çš„å€¼ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec4&lt;f32&gt;(1, 2, 3, 4);
let b = a.z;   // é€šè¿‡ x,y,z,w è®¿é—®
let c = a.b;   // é€šè¿‡ r,g,b,a è®¿é—®
let d = a[2];  // é€šè¿‡æ•°ç»„å…ƒç´ é€‰æ‹©å™¨è®¿é—®
</pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="notranslate" translate="no">b</code>, <code class="notranslate" translate="no">c</code> å’Œ <code class="notranslate" translate="no">d</code>éƒ½æ˜¯ç›¸åŒçš„ã€‚å®ƒä»¬éƒ½åœ¨è®¿é—® a çš„ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œè€Œå®ƒä»¬éƒ½æ˜¯â€™3â€™ã€‚</p>
<h3 id="è°ƒåˆ¶">è°ƒåˆ¶</h3>
<p>æ‚¨ä¹Ÿå¯ä»¥åŒæ—¶è®¿é—®å¤šä¸ªå…ƒç´ ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec4&lt;f32&gt;(1, 2, 3, 4);
let b = a.zx;   // é€šè¿‡ x,y,z,w è®¿é—®
let c = a.br;   // é€šè¿‡ r,g,b,a è®¿é—®
let d = vec2&lt;f32&gt;(a[2], a[0]);
</pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="notranslate" translate="no">b</code>, <code class="notranslate" translate="no">c</code> å’Œ <code class="notranslate" translate="no">d</code> éƒ½æ˜¯ç›¸åŒçš„ï¼Œå®ƒä»¬éƒ½æ˜¯ <code class="notranslate" translate="no">vec2&lt;f32&gt;(3, 1)</code>ã€‚</p>
<p>æ‚¨è¿˜å¯ä»¥é‡å¤å…ƒç´ ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec4&lt;f32&gt;(1, 2, 3, 4);
let b = vec3&lt;f32&gt;(a.z, a.z, a.y);
let c = a.zzy;
</pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="notranslate" translate="no">b</code> å’Œ <code class="notranslate" translate="no">c</code> æ˜¯ä¸€æ ·çš„ã€‚å®ƒä»¬éƒ½æ˜¯ <code class="notranslate" translate="no">vec3&lt;f32&gt;</code>ï¼Œå…¶å†…å®¹æ˜¯ 3, 3, 2ã€‚</p>
<h3 id="å‘é‡å¿«æ·æ–¹å¼">å‘é‡å¿«æ·æ–¹å¼</h3>
<p>åŸºæœ¬ç±»å‹æœ‰å¿«æ·æ–¹å¼ã€‚æ‚¨å¯ä»¥å°† <code class="notranslate" translate="no">&lt;i32&gt;</code> æ”¹ä¸º <code class="notranslate" translate="no">i</code>, <code class="notranslate" translate="no">&lt;f32&gt;</code> æ”¹ä¸º <code class="notranslate" translate="no">f</code>, <code class="notranslate" translate="no">&lt;u32&gt;</code> æ”¹ä¸º <code class="notranslate" translate="no">u</code> , <code class="notranslate" translate="no">&lt;f16&gt;</code> æ”¹ä¸º <code class="notranslate" translate="no">h</code>ï¼Œå¦‚ï¼š</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec4&lt;f32&gt;(1, 2, 3, 4);
let b = vec4f(1, 2, 3, 4);
</pre>
<p><code class="notranslate" translate="no">a</code> å’Œ <code class="notranslate" translate="no">b</code> æ˜¯ç›¸åŒçš„ç±»å‹ã€‚</p>
<h3 id="å‘é‡æ„é€ ">å‘é‡æ„é€ </h3>
<p>å¯ä»¥ç”¨æ›´å°çš„ç±»å‹æ„å»ºå‘é‡ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec4f(1, 2, 3, 4);
let b = vec2f(2, 3);
let c = vec4f(1, b, 4);
let d = vec4f(1, a.yz, 4);
let e = vec4f(a.xyz, 4);
let f = vec4f(1, a.yzw);
</pre>
<p><code class="notranslate" translate="no">a</code>, <code class="notranslate" translate="no">c</code>, <code class="notranslate" translate="no">d</code>, <code class="notranslate" translate="no">e</code> å’Œ <code class="notranslate" translate="no">f</code> æ˜¯ç›¸åŒçš„ã€‚</p>
<h3 id="å‘é‡æ•°å­¦">å‘é‡æ•°å­¦</h3>
<p>æ‚¨å¯ä»¥åœ¨å‘é‡ä¸Šè¿›è¡Œæ•°å­¦è¿ç®—ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec4f(1, 2, 3, 4);
let b = vec4f(5, 6, 7, 8);
let c = a + b;  // c æ˜¯ vec4f(6, 8, 10, 12)
let d = a * b;  // d æ˜¯ vec4f(5, 12, 21, 32)
let e = a - b;  // e æ˜¯ vec4f(-4, -4, -4, -4)
</pre>
<p>è®¸å¤šå‡½æ•°ä¹Ÿé€‚ç”¨äºå‘é‡ï¼š</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = vec4f(1, 2, 3, 4);
let b = vec4f(5, 6, 7, 8);
let c = mix(a, b, 0.5);                   // c is vec4f(3, 4, 5, 6)
let d = mix(a, b, vec4f(0, 0.5, 0.5, 1)); // d is vec4f(1, 4, 5, 8)
</pre>
<h2 id="çŸ©é˜µ">çŸ©é˜µ</h2>
<p>WGSLæœ‰è®¸å¤šçŸ©é˜µç±»å‹ã€‚çŸ©é˜µæ˜¯å‘é‡çš„æ•°ç»„ï¼Œæ ¼å¼æ˜¯ <code class="notranslate" translate="no">mat&lt;å‘é‡æ•°é‡&gt;x&lt;å‘é‡å¤§å°&gt;&lt;ç±»å‹&gt;</code>ï¼Œä¾‹å¦‚ <code class="notranslate" translate="no">mat3x4&lt;f32&gt;</code> æ˜¯ä¸€ä¸ªåŒ…å«3ä¸ª <code class="notranslate" translate="no">vec4&lt;f32&gt;</code> çš„æ•°ç»„ã€‚å°±åƒå‘é‡ä¸€æ ·ï¼ŒçŸ©é˜µä¹Ÿæœ‰ç›¸åŒçš„å¿«æ·æ–¹å¼ï¼š</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a: mat4x4&lt;f32&gt; = ...
let b: mat4x4f = ...
</pre>
<p><code class="notranslate" translate="no">a</code> å’Œ <code class="notranslate" translate="no">b</code> æ˜¯ç›¸åŒçš„ç±»å‹ã€‚</p>
<h3 id="çŸ©é˜µå‘é‡è®¿é—®">çŸ©é˜µå‘é‡è®¿é—®</h3>
<p>æ‚¨å¯ä»¥ä½¿ç”¨æ•°ç»„è¯­æ³•å¼•ç”¨çŸ©é˜µä¸­çš„å‘é‡ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = mat4x4f(...);
let b = a[2];  // b æ˜¯ a ä¸­ç¬¬3ä¸ªå‘é‡çš„ä¸€ä¸ª vec4f
</pre>
<p>æœ€å¸¸ç”¨çš„3Dè®¡ç®—çŸ©é˜µç±»å‹æ˜¯ <code class="notranslate" translate="no">mat4x4f</code> ï¼Œå¯ä»¥ç›´æ¥ä¸<code class="notranslate" translate="no">vec4f</code> ç›¸ä¹˜äº§ç”Ÿå¦ä¸€ä¸ª <code class="notranslate" translate="no">vec4f</code>ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = mat4x4f(....);
let b = vec4f(1, 2, 3, 4);
let c = a * b;  // c æ˜¯ä¸€ä¸ª vec4fï¼Œæ˜¯ a * b çš„ç»“æœ
</pre>
<h2 id="æ•°ç»„">æ•°ç»„</h2>
<p>WGSLä¸­çš„æ•°ç»„ä½¿ç”¨ <code class="notranslate" translate="no">array&lt;type, numElements&gt;</code> è¯­æ³•å£°æ˜ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">let a = array&lt;f32, 5&gt;;   // ä¸€ä¸ªåŒ…å«äº”ä¸ª f32 çš„æ•°ç»„
let b = array&lt;vec4f, 6&gt;; // ä¸€ä¸ªåŒ…å«å…­ä¸ª vec4f çš„æ•°ç»„
</pre>
<p>ä½†æ˜¯ä¹Ÿæœ‰ <code class="notranslate" translate="no">array</code> æ„é€ å‡½æ•°ã€‚
å®ƒå¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚å‚æ•°å¿…é¡»å…¨éƒ¨æ˜¯ç›¸åŒç±»å‹ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl;" translate="no">let arrOf3Vec3fsA = array(vec3f(1,2,3), vec3f(4,5,6), vec3f(7,8,9));
let arrOf3Vec3fsB = array&lt;vec3f, 3&gt;(vec3f(1,2,3), vec3f(4,5,6), vec3f(7,8,9));
</pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="notranslate" translate="no">arrOf3Vec3fsA</code> å’Œ <code class="notranslate" translate="no">arrOf3Vec3fsB</code> æ˜¯ç›¸åŒçš„ç±»å‹ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼Œåœ¨WGSLç‰ˆæœ¬1ä¸­ï¼Œæ²¡æœ‰æ–¹æ³•è·å–å›ºå®šå¤§å°æ•°ç»„çš„å¤§å°ã€‚</p>
<h3 id="è¿è¡Œæ—¶å¤§å°æ•°ç»„">è¿è¡Œæ—¶å¤§å°æ•°ç»„</h3>
<p>åªæœ‰æ ¹ä½œç”¨åŸŸå­˜å‚¨å£°æ˜æˆ–ä½œä¸ºæ ¹ä½œç”¨åŸŸç»“æ„ä½“æœ€åä¸€ä¸ªå­—æ®µçš„æ•°ç»„æ‰èƒ½æŒ‡å®šä¸ºæ²¡æœ‰å¤§å°ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">struct Stuff {
  color: vec4f,
  size: f32,
  verts: array&lt;vec3f&gt;,
};
@group(0) @binding(0) var&lt;storage&gt; foo: array&lt;mat4x4f&gt;;
@group(0) @binding(1) var&lt;storage&gt; bar: Stuff;
</pre>
<p><code class="notranslate" translate="no">foo</code> å’Œ <code class="notranslate" translate="no">bar.verts</code> ä¸­çš„å…ƒç´ æ•°é‡ç”±è¿è¡Œæ—¶ä½¿ç”¨çš„ç»‘å®šç»„è®¾ç½®å®šä¹‰ã€‚æ‚¨å¯ä»¥åœ¨ WGSL ä¸­ä½¿ç”¨ <code class="notranslate" translate="no">arrayLength</code> æŸ¥è¯¢æ­¤å¤§å°ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">@group(0) @binding(0) var&lt;storage&gt; foo: array&lt;mat4x4f&gt;;
@group(0) @binding(1) var&lt;storage&gt; bar: Stuff;

...
  let numMatrices = arrayLength(&amp;foo);
  let numVerts = arrayLength(&amp;bar.verts);
</pre>
<h2 id="å‡½æ•°">å‡½æ•°</h2>
<p>WGSL ä¸­çš„å‡½æ•°éµå¾ª <code class="notranslate" translate="no">fn å‡½æ•°å(å‚æ•°) -&gt; è¿”å›ç±»å‹ { ..å‡½æ•°ä½“... }</code> çš„æ¨¡å¼ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">fn add(a: f32, b: f32) -&gt; f32 {
  return a + b;
}
</pre>
<h2 id="å…¥å£ç‚¹">å…¥å£ç‚¹</h2>
<p>WGSL çš„ç¨‹åºéœ€è¦ä¸€ä¸ªå…¥å£ç‚¹ã€‚å…¥å£ç‚¹ç”± <code class="notranslate" translate="no">@vertex</code>, <code class="notranslate" translate="no">@fragment</code> æˆ–è€… <code class="notranslate" translate="no">@compute</code> æ ‡è®°ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">@vertex fn myFunc(a: f32, b: f32) -&gt; @builtin(position): vec4f {
  return vec4f(0, 0, 0, 0);
}
</pre>
<h2 id="ç€è‰²å™¨åªä½¿ç”¨å…¶å…¥å£ç‚¹è®¿é—®çš„å†…å®¹">ç€è‰²å™¨åªä½¿ç”¨å…¶å…¥å£ç‚¹è®¿é—®çš„å†…å®¹</h2>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">@group(0) @binding(0) var&lt;uniforms&gt; uni: vec4f;

vec4f fn foo() {
  return uni;
}

@vertex fn vs1(): @builtin(position) vec4f {
  return vec4f(0);
}

@vertex fn vs2(): @builtin(position) vec4f {
  return foo();
}
</pre>
<p>ä¸Šé¢ <code class="notranslate" translate="no">uni</code> æ²¡æœ‰è¢« <code class="notranslate" translate="no">vs1</code> è®¿é—®ï¼Œå› æ­¤å¦‚æœåœ¨ç®¡é“ä¸­ä½¿ç”¨ <code class="notranslate" translate="no">vs1</code>ï¼Œå®ƒä¸ä¼šæ˜¾ç¤ºä¸ºå¿…éœ€çš„ç»‘å®šã€‚<code class="notranslate" translate="no">vs2</code> é€šè¿‡è°ƒç”¨ <code class="notranslate" translate="no">foo</code> é—´æ¥å¼•ç”¨äº† <code class="notranslate" translate="no">uni</code>ï¼Œæ‰€ä»¥åœ¨ç®¡é“ä¸­ä½¿ç”¨ <code class="notranslate" translate="no">vs2</code> æ—¶ï¼Œå®ƒä¼šæ˜¾ç¤ºä¸ºå¿…éœ€çš„ç»‘å®šã€‚</p>
<h2 id="å±æ€§ï¼ˆattributesï¼‰">å±æ€§ï¼ˆattributesï¼‰</h2>
<p><em>å±æ€§ï¼ˆattributesï¼‰</em> è¿™ä¸ªè¯åœ¨WebGPUæœ‰åŒé‡å«ä¹‰ï¼Œä¸€ä¸ªæ˜¯ <em>é¡¶ç‚¹å±æ€§ï¼ˆvertex attributesï¼‰</em> è¿™åœ¨<a href="webgpu-vertex-buffers.html">é¡¶ç‚¹ç¼“å†²åŒºçš„æ–‡ç« </a>æœ‰è¿‡ä»‹ç»ã€‚
å¦ä¸€ä¸ªæ˜¯åœ¨WGSLä¸­ï¼Œå±æ€§ä»¥ <code class="notranslate" translate="no">@</code> å¼€å¤´ã€‚</p>
<h3 id="locationnumber"><code class="notranslate" translate="no">@location(number)</code></h3>
<p><code class="notranslate" translate="no">@location(number)</code> ç”¨äºå®šä¹‰ç€è‰²å™¨çš„è¾“å…¥å’Œè¾“å‡ºã€‚</p>
<h4 id="é¡¶ç‚¹ç€è‰²å™¨è¾“å…¥">é¡¶ç‚¹ç€è‰²å™¨è¾“å…¥</h4>
<p>å¯¹äºé¡¶ç‚¹ç€è‰²å™¨ï¼Œè¾“å…¥ç”±é¡¶ç‚¹ç€è‰²å™¨å…¥å£ç‚¹å‡½æ•°çš„ <code class="notranslate" translate="no">@location</code> å±æ€§å®šä¹‰ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">@vertex vs1(@location(0) foo: f32, @location(1) bar: vec4f) ...

struct Stuff {
  @location(0) foo: f32,
  @location(1) bar: vec4f,
};
@vertex vs2(s: Stuff) ...
</pre>
<p><code class="notranslate" translate="no">vs1</code> å’Œ <code class="notranslate" translate="no">vs2</code> å®šä¹‰äº†åœ¨åœ°å€0å’Œ1çš„è¾“å…¥ï¼Œå®ƒä»¬éœ€è¦ç”±<a href="webgpu-vertex-buffers.html">é¡¶ç‚¹ç€è‰²å™¨</a>æä¾›ã€‚</p>
<h4 id="inter-stage-å˜é‡">Inter-stage å˜é‡</h4>
<p>å¯¹äº Inter-stage å˜é‡, <code class="notranslate" translate="no">@location</code> å±æ€§å®šä¹‰äº†å˜é‡åœ¨ç€è‰²å™¨ä¹‹é—´ä¼ é€’çš„ä½ç½®ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">struct VSOut {
  @builtin(position) pos: vec4f,
  @location(0) color: vec4f,
  @location(1) texcoords: vec2f,
};

struct FSIn {
  @location(1) uv: vec2f,
  @location(0) diffuse: vec4f,
};

@vertex fn foo(...) -&gt; VSOut { ... }
@fragment fn bar(moo: FSIn) ... 
</pre>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­, é¡¶ç‚¹ç€è‰²å™¨ <code class="notranslate" translate="no">foo</code> å°† <code class="notranslate" translate="no">color</code> ä½œä¸º <code class="notranslate" translate="no">location(0)</code> ä¸Šçš„ <code class="notranslate" translate="no">vec4f</code>ï¼Œ<code class="notranslate" translate="no">texcoords</code> ä½œä¸º <code class="notranslate" translate="no">location(1)</code>ä¸Šçš„ <code class="notranslate" translate="no">vec2f</code>ã€‚
è€Œç‰‡æ®µç€è‰²å™¨ <code class="notranslate" translate="no">bar</code> å°†ä»–ä»¬ä»¥ <code class="notranslate" translate="no">uv</code> å’Œ <code class="notranslate" translate="no">diffuse</code> æ¥æ”¶ï¼Œå› ä¸ºå®ƒä»¬çš„ä½ç½®æ˜¯åŒ¹é…çš„ã€‚</p>
<h4 id="ç‰‡æ®µç€è‰²å™¨è¾“å‡º">ç‰‡æ®µç€è‰²å™¨è¾“å‡º</h4>
<p>å¯¹äºç‰‡æ®µç€è‰²å™¨ï¼Œ<code class="notranslate" translate="no">@location</code> æŒ‡å®šäº†å°†ç»“æœå­˜å‚¨åœ¨å“ªä¸ª<code class="notranslate" translate="no">GPURenderPassDescriptor.colorAttachment</code> ä¸­ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">struct FSOut {
  @location(0) albedo: vec4f;
  @location(1) normal: vec4f;
}
@fragment fn bar(...) -&gt; FSOut { ... }
</pre>
<h3 id="builtinname"><code class="notranslate" translate="no">@builtin(name)</code></h3>
<p><code class="notranslate" translate="no">@builtin</code> å±æ€§ç”¨äºæŒ‡å®šæŸä¸ªç‰¹å®šå˜é‡çš„å€¼æ¥è‡ªWebGPUçš„å†…ç½®åŠŸèƒ½ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">@vertex fn vs1(@builtin(vertex_index) foo: u32, @builtin(instance_index) bar: u32) ... {
  ...
}
</pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code class="notranslate" translate="no">foo</code> çš„å€¼æ¥è‡ªå†…ç½®çš„ <code class="notranslate" translate="no">vertex_index</code> è€Œ <code class="notranslate" translate="no">bar</code> çš„å€¼æ¥è‡ªå†…ç½®çš„ <code class="notranslate" translate="no">instance_index</code>.</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">struct Foo {
  @builtin(vertex_index) vNdx: u32,
  @builtin(instance_index) iNdx: u32,
}
@vertex fn vs1(blap: Foo) ... {
  ...
}
</pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code class="notranslate" translate="no">blap.vNdx</code> çš„å€¼æ¥è‡ªå†…ç½®çš„<code class="notranslate" translate="no">vertex_index</code> è€Œ <code class="notranslate" translate="no">blap.iNdx</code>çš„å€¼æ¥è‡ªå†…ç½®çš„ <code class="notranslate" translate="no">instance_index</code>.</p>
<div class="webgpu_center center data-table">
<table class="data">
  <thead>
    <tr>
      <th>å†…éƒ¨åç§°</th>
      <th>é˜¶æ®µ</th>
      <th>IO</th>
      <th>ç±»å‹</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-vertex_index">vertex_index</dfn> </td>
      <td>vertex </td>
      <td>input </td>
      <td>u32 </td>
      <td style="width:50%">
      å½“å‰é¡¶ç‚¹åœ¨å½“å‰APIçº§ç»˜åˆ¶å‘½ä»¤ä¸­çš„ç´¢å¼•ï¼Œ ä¸ä¾èµ–äºç»˜åˆ¶å®ä¾‹åŒ–ã€‚
       <p>å¯¹äºéç´¢å¼•ç»˜åˆ¶ï¼Œç¬¬ä¸€ä¸ªé¡¶ç‚¹çš„ç´¢å¼•ç­‰äºç»˜åˆ¶çš„<code class="notranslate" translate="no">firstVertex</code> å‚æ•°çš„å€¼ï¼Œæ— è®ºæ˜¯ç›´æ¥è¿˜æ˜¯é—´æ¥æä¾›çš„ã€‚ ç»˜åˆ¶å®ä¾‹ä¸­æ¯ä¸ªé¢å¤–çš„é¡¶ç‚¹ï¼Œç´¢å¼•é€’å¢ä¸€ã€‚</p>
       <p>å¯¹äºç´¢å¼•ç»˜åˆ¶ï¼Œç´¢å¼•ç­‰äºé¡¶ç‚¹çš„ç´¢å¼•ç¼“å†²æ¡ç›®ï¼Œ åŠ ä¸Šç»˜åˆ¶çš„<code class="notranslate" translate="no">baseVertex</code> å‚æ•°çš„å€¼ï¼Œæ— è®ºæ˜¯ç›´æ¥è¿˜æ˜¯é—´æ¥æä¾›çš„ã€‚</p></td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-instance_index">instance_index</dfn> </td>
      <td>vertex </td>
      <td>input </td>
      <td>u32 </td>
      <td style="width:50%">
       å½“å‰é¡¶ç‚¹åœ¨å½“å‰APIçº§ç»˜åˆ¶å‘½ä»¤ä¸­çš„å®ä¾‹ç´¢å¼•ã€‚
       <p>ç¬¬ä¸€ä¸ªå®ä¾‹çš„ç´¢å¼•ç­‰äºç»˜åˆ¶çš„<code class="notranslate" translate="no">firstInstance</code> å‚æ•°çš„å€¼ï¼Œ
         æ— è®ºæ˜¯ç›´æ¥è¿˜æ˜¯é—´æ¥æä¾›çš„ã€‚ ç»˜åˆ¶ä¸­æ¯ä¸ªé¢å¤–çš„å®ä¾‹ï¼Œç´¢å¼•é€’å¢ä¸€ã€‚</p></td>
    </tr>
    <tr>
      <td rowspan="2"><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-position">position</dfn> </td>
      <td>vertex </td>
      <td>output </td>
      <td>vec4&lt;f32&gt; </td>
      <td style="width:50%">å½“å‰é¡¶ç‚¹çš„è¾“å‡ºä½ç½®ï¼Œä½¿ç”¨é½æ¬¡åæ ‡ã€‚ é½æ¬¡å½’ä¸€åŒ–ï¼ˆä¹Ÿå°±æ˜¯æ‰€æœ‰çš„ <em>x</em>, <em>y</em>, å’Œ <em>z</em> åˆ†é‡éƒ½é™¤ä»¥ <em>w</em> åˆ†é‡ï¼‰å, ä½ç½®å¤„äºWebGPUæ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç©ºé—´ã€‚å‚è§<a href="https://www.w3.org/TR/webgpu/#coordinate-systems"><cite>WebGPU</cite> Â§â€¯3.3 Coordinate Systems</a>ã€‚ </td>
    </tr>
    <tr>
      <td>fragment </td>
      <td>input </td>
      <td>vec4&lt;f32&gt; </td>
      <td style="width:50%">å½“å‰ç‰‡æ®µåœ¨<a data-link-type="dfn" href="https://gpuweb.github.io/gpuweb/#framebuffer" id="ref-for-framebuffer">å¸§ç¼“å†²ï¼ˆframebufferï¼‰</a> ç©ºé—´çš„ä½ç½®ã€‚
      (<em>x</em>, <em>y</em>å’Œ<em>z</em> åˆ†é‡éƒ½å·²ç»è¢«ç¼©æ”¾è¿‡æ‰€ä»¥ <em>w</em> ç°åœ¨æ˜¯1ã€‚)
      å‚è§ <a href="https://www.w3.org/TR/webgpu/#coordinate-systems"><cite>WebGPU</cite> Â§â€¯3.3 Coordinate Systems</a>. </td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-front_facing">front_facing</dfn> </td>
      <td>fragment </td>
      <td>input </td>
      <td>bool </td>
      <td style="width:50%">å½“å½“å‰ç‰‡æ®µä½äº<a data-link-type="dfn" href="https://gpuweb.github.io/gpuweb/#front-facing" id="ref-for-front-facing">é¢å‘å‰æ–¹çš„</a> å›¾å…ƒä¸Šæ—¶ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ã€‚</td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-frag_depth">frag_depth</dfn> </td>
      <td>fragment </td>
      <td>output </td>
      <td>f32 </td>
      <td style="width:50%">è§†å£æ·±åº¦èŒƒå›´å†…çš„ç‰‡æ®µæ›´æ–°åçš„æ·±åº¦ã€‚å‚è§<a href="https://www.w3.org/TR/webgpu/#coordinate-systems"><cite>WebGPU</cite> Â§â€¯3.3 Coordinate Systems</a>ã€‚</td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-local_invocation_id">local_invocation_id</dfn> </td>
      <td>compute </td>
      <td>input </td>
      <td>vec3&lt;u32&gt; </td>
      <td style="width:50%">å½“å‰è°ƒç”¨çš„<a data-link-type="dfn" href="#local-invocation-id" id="ref-for-local-invocation-idâ‘ ">å±€éƒ¨è°ƒç”¨IDï¼ˆlocal invocation IDï¼‰</a>ï¼Œ å³å…¶åœ¨<a data-link-type="dfn" href="#workgroup-grid" id="ref-for-workgroup-gridâ‘ ">å·¥ä½œç»„ç½‘æ ¼ï¼ˆworkgroup gridï¼‰</a>ä¸­çš„ä½ç½®ã€‚</td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-local_invocation_index">local_invocation_index</dfn> </td>
      <td>compute </td>
      <td>input </td>
      <td>u32 </td>
      <td style="width:50%">å½“å‰è°ƒç”¨çš„<a data-link-type="dfn" href="#local-invocation-index" id="ref-for-local-invocation-index">å±€éƒ¨è°ƒç”¨ç´¢å¼•ï¼ˆlocal invocation indexï¼‰</a>, å³è°ƒç”¨åœ¨<a data-link-type="dfn" href="#workgroup-grid" id="ref-for-workgroup-gridâ‘¡">å·¥ä½œç»„ç½‘æ ¼ï¼ˆworkgroup gridï¼‰</a>ä¸­çš„çº¿æ€§ç´¢å¼•ã€‚ </td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-global_invocation_id">global_invocation_id</dfn> </td>
      <td>compute </td>
      <td>input </td>
      <td>vec3&lt;u32&gt; </td>
      <td style="width:50%">å½“å‰è°ƒç”¨çš„<a data-link-type="dfn" href="#global-invocation-id" id="ref-for-global-invocation-id">å…¨å±€è°ƒç”¨IDï¼ˆglobal invocation IDï¼‰</a>,
          ä¹Ÿå°±æ˜¯å®ƒåœ¨<a data-link-type="dfn" href="#compute-shader-grid" id="ref-for-compute-shader-grid">è®¡ç®—ç€è‰²å™¨ï¼ˆcompute shader gridï¼‰</a>ä¸­çš„ä½ç½®ã€‚</td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-workgroup_id">workgroup_id</dfn> </td>
      <td>compute </td>
      <td>input </td>
      <td>vec3&lt;u32&gt; </td>
      <td style="width:50%">å½“å‰è°ƒç”¨çš„<a data-link-type="dfn" href="#workgroup-id" id="ref-for-workgroup-id">å·¥ä½œç»„IDï¼ˆworkgroup IDï¼‰</a>,
          ä¹Ÿå°±æ˜¯è¯¥å·¥ä½œç»„åœ¨<a data-link-type="dfn" href="#workgroup-grid" id="ref-for-workgroup-gridâ‘¢">å·¥ä½œç»„ç½‘æ ¼ï¼ˆworkgroup gridï¼‰</a>ä¸­çš„ä½ç½®ã€‚</td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-num_workgroups">num_workgroups</dfn> </td>
      <td>compute </td>
      <td>input </td>
      <td>vec3&lt;u32&gt; </td>
      <td style="width:50%">é€šè¿‡API<a href="https://www.w3.org/TR/webgpu/#compute-pass-encoder-dispatch">è°ƒåº¦çš„</a>è®¡ç®—ç€è‰²å™¨çš„<a data-link-type="dfn" href="#dispatch-size" id="ref-for-dispatch-size">è°ƒåº¦å¤§å°ï¼ˆdispatch sizeï¼‰</a>ï¼Œå³<code class="notranslate" translate="no">vec&lt;u32&gt;(group_count_x, group_count_y, group_count_z)</code></td>
    </tr>
    <tr>
      <td><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-sample_index">sample_index</dfn> </td>
      <td>fragment </td>
      <td>input </td>
      <td>u32 </td>
      <td style="width:50%">å½“å‰ç‰‡æ®µçš„æ ·æœ¬ç´¢å¼•ã€‚ è¯¥å€¼è‡³å°‘ä¸º0ä¸”è‡³å¤šä¸º<code class="notranslate" translate="no">sampleCount</code>-1, å…¶ä¸­<code class="notranslate" translate="no">sampleCount</code> æ˜¯ä¸ºGPUæ¸²æŸ“ç®¡çº¿æŒ‡å®šçš„MSAAæ ·æœ¬<code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/webgpu/#dom-gpumultisamplestate-count" id="ref-for-dom-gpumultisamplestate-count">æ•°é‡</a></code><br>å‚è§<a href="https://www.w3.org/TR/webgpu/#gpurenderpipeline"><cite>WebGPU</cite> Â§â€¯10.3 GPURenderPipeline</a>. </td>
    </tr>
    <tr>
      <td rowspan="2"><dfn class="dfn-paneled" data-dfn-for="built-in values" data-dfn-type="dfn" data-noexport="" id="built-in-values-sample_mask">sample_mask</dfn> </td>
      <td>fragment </td>
      <td>input </td>
      <td>u32 </td>
      <td style="width:50%">å½“å‰ç‰‡æ®µçš„æ ·æœ¬è¦†ç›–ç‡æ©ç ã€‚å®ƒåŒ…å«ä¸€ä¸ªä½æ©ç ï¼ŒæŒ‡ç¤ºæ­¤ç‰‡æ®µä¸­å“ªäº›æ ·æœ¬è¢«æ­£åœ¨æ¸²æŸ“çš„å›¾å…ƒè¦†ç›–ã€‚<br>å‚è§<a href="https://www.w3.org/TR/webgpu/#sample-masking"><cite>WebGPU</cite> Â§â€¯23.3.11 Sample Masking</a>. </td>
    </tr>
    <tr>
      <td>fragment </td>
      <td>output </td>
      <td>u32 </td>
      <td style="width:50%">æ§åˆ¶å½“å‰ç‰‡æ®µçš„æ ·æœ¬è¦†ç›–ç‡çš„æ©ç ã€‚å†™å…¥æ­¤å˜é‡çš„æœ€åä¸€ä¸ªå€¼æˆä¸º<a data-link-type="dfn" href="https://gpuweb.github.io/gpuweb/#shader-output-mask" id="ref-for-shader-output-mask">ç€è‰²å™¨è¾“å‡ºæ©ç </a>.
         å†™å…¥å€¼ä¸­çš„é›¶ä½å°†å¯¼è‡´é¢œè‰²é™„ä»¶ï¼ˆcolor attachmentsï¼‰ä¸­ç›¸åº”çš„æ ·æœ¬è¢«ä¸¢å¼ƒã€‚<br>See <a href="https://www.w3.org/TR/webgpu/#sample-masking"><cite>WebGPU</cite> Â§â€¯23.3.11 Sample Masking</a>. </td>
    </tr>
  </tbody>
  </table>
</div>
<h2 id="æµç¨‹æ§åˆ¶">æµç¨‹æ§åˆ¶</h2>
<p>åƒå¤§å¤šæ•°è®¡ç®—æœºè¯­è¨€ä¸€æ ·ï¼ŒWGSLå…·æœ‰æµç¨‹æ§åˆ¶è¯­å¥ã€‚</p>
<h3 id="for">for</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  for (var i = 0; i &lt; 10; i++) { ... }
</pre>
<h3 id="if">if</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">    if (i &lt; 5) {
      ...
    } else if (i &gt; 7) {
      ..
    } else {
      ...
    }
</pre>
<h3 id="while">while</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  var j = 0;
  while (j &lt; 5) {
    ...
    j++;
  }
</pre>
<h3 id="loop">loop</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  var k = 0;
  loop {
    k++;
    if (k &gt;= 5) {
      break;
    }
  }
</pre>
<h3 id="break">break</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  var k = 0;
  loop {
    k++;
    if (k &gt;= 5) {
      break;
    }
  }
</pre>
<h3 id="break-if">break if</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  var k = 0;
  loop {
    k++;
    break if (k &gt;= 5);
  }
</pre>
<h3 id="continue">continue</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  for (var i = 0; i &lt; 10; ++i) {
    if (i % 2 == 1) {
      continue;
    }
    ...
  }
</pre>
<h3 id="continuing">continuing</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  for (var i = 0; i &lt; 10; ++i) {
    if (i % 2 == 1) {
      continue;
    }
    ...

    continuing {
      // continue goes here
      ...
    }
  }
</pre>
<h3 id="discard">discard</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">   if (v &lt; 0.5) {
     discard;
   }
</pre>
<p>ä½¿ç”¨ <code class="notranslate" translate="no">discard</code> ä¼šé€€å‡ºå½“å‰ç€è‰²å™¨ã€‚å®ƒåªèƒ½åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­ä½¿ç”¨ã€‚</p>
<h3 id="switch">switch</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">var a : i32;
let x : i32 = generateValue();
switch x {
  case 0: {      // å†’å·æ˜¯å¯é€‰çš„
    a = 1;
  }
  default {      // é»˜è®¤åˆ†æ”¯ä¸éœ€è¦å‡ºç°åœ¨æœ€å
    a = 2;
  }
  case 1, 2, {   // å¯ä»¥ä½¿ç”¨å¤šä¸ªé€‰æ‹©å€¼
    a = 3;
  }
  case 3, {      // å°¾éšé€—å·ä¹Ÿæ˜¯å¯é€‰çš„
    a = 4;
  }
  case 4 {
    a = 5;
  }
}
</pre>
<p><code class="notranslate" translate="no">switch</code> ä»…ä¸ <code class="notranslate" translate="no">u32</code> å’Œ <code class="notranslate" translate="no">i32</code> ç±»å‹çš„å˜é‡å·¥ä½œï¼Œå¹¶ä¸”å„åˆ†æ”¯çš„åŒ¹é…å€¼å¿…é¡»æ˜¯å¸¸é‡ã€‚</p>
<h2 id="æ“ä½œç¬¦">æ“ä½œç¬¦</h2>
<div class="webgpu_center center data-table">
<table class="data">
  <thead>
    <tr>
      <th>åç§°</th>
      <th>æ“ä½œç¬¦</th>
      <th>Associativity </th>
      <th>Binding </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Parenthesized </td>
      <td><code class="notranslate" translate="no">(...)</code> </td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>Primary </td>
      <td><code class="notranslate" translate="no">a()</code>, <code class="notranslate" translate="no">a[]</code>, <code class="notranslate" translate="no">a.b</code> </td>
      <td>Left-to-right </td>
      <td></td>
    </tr>
    <tr>
      <td>Unary </td>
      <td><code class="notranslate" translate="no">-a</code>, <code class="notranslate" translate="no">!a</code>, <code class="notranslate" translate="no">~a</code>, <code class="notranslate" translate="no">*a</code>, <code class="notranslate" translate="no">&amp;a</code> </td>
      <td>Right-to-left </td>
      <td>All above </td>
    </tr>
    <tr>
      <td>Multiplicative </td>
      <td><code class="notranslate" translate="no">a * b</code>, <code class="notranslate" translate="no">a / b</code>, <code class="notranslate" translate="no">a % b</code> </td>
      <td>Left-to-right </td>
      <td>All above </td>
    </tr>
    <tr>
      <td>Additive </td>
      <td><code class="notranslate" translate="no">a + b</code>, <code class="notranslate" translate="no">a - b</code> </td>
      <td>Left-to-right </td>
      <td>All above </td>
    </tr>
    <tr>
      <td>Shift </td>
      <td><code class="notranslate" translate="no">a &lt;&lt; b</code>, <code class="notranslate" translate="no">a &gt;&gt; b</code> </td>
      <td>Requires parentheses </td>
      <td>Unary </td>
    </tr>
    <tr>
      <td>Relational </td>
      <td><code class="notranslate" translate="no">a &lt; b</code>, <code class="notranslate" translate="no">a &gt; b</code>, <code class="notranslate" translate="no">a &lt;= b</code>, <code class="notranslate" translate="no">a &gt;= b</code>, <code class="notranslate" translate="no">a == b</code>, <code class="notranslate" translate="no">a != b</code> </td>
      <td>Requires parentheses </td>
      <td>All above </td>
    </tr>
    <tr>
      <td>Binary AND </td>
      <td><code class="notranslate" translate="no">a &amp; b</code> </td>
      <td>Left-to-right </td>
      <td>Unary </td>
    </tr>
    <tr>
      <td>Binary XOR </td>
      <td><code class="notranslate" translate="no">a ^ b</code> </td>
      <td>Left-to-right </td>
      <td>Unary </td>
    </tr>
    <tr>
      <td>Binary OR </td>
      <td><code class="notranslate" translate="no">a | b</code> </td>
      <td>Left-to-right </td>
      <td>Unary </td>
    </tr>
    <tr>
      <td>Short-circuit AND </td>
      <td><code class="notranslate" translate="no">a &amp;&amp; b</code> </td>
      <td>Left-to-right </td>
      <td>Relational </td>
    </tr>
    <tr>
      <td>Short-circuit OR </td>
      <td><code class="notranslate" translate="no">a || b</code> </td>
      <td>Left-to-right </td>
      <td>Relational </td>
    </tr>
  </tbody>
</table>
</div>
<h2 id="å†…éƒ¨å‡½æ•°">å†…éƒ¨å‡½æ•°</h2>
<p>è¯·è§ <a href="webgpu-wgsl-function-reference.html">the WGSL Function reference</a>.</p>
<h2 id="ä¸å…¶ä»–è¯­è¨€çš„ä¸åŒ">ä¸å…¶ä»–è¯­è¨€çš„ä¸åŒ</h2>
<h3 id="if-while-switch-break-if-è¡¨è¾¾å¼ä¸éœ€è¦æ‹¬å·ã€‚"><code class="notranslate" translate="no">if</code>, <code class="notranslate" translate="no">while</code>, <code class="notranslate" translate="no">switch</code>, <code class="notranslate" translate="no">break-if</code> è¡¨è¾¾å¼ä¸éœ€è¦æ‹¬å·ã€‚</h3>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">if a &lt; 5 {
  doTheThing();
}
</pre>
<h3 id="æ²¡æœ‰ä¸‰å…ƒè¿ç®—ç¬¦">æ²¡æœ‰ä¸‰å…ƒè¿ç®—ç¬¦</h3>
<p>è®¸å¤šè¯­è¨€æœ‰ä¸€ä¸ªä¸‰å…ƒè¿ç®—ç¬¦ <code class="notranslate" translate="no">condition ? trueExpression : falseExpression</code>
ä½†WGSLæ²¡æœ‰ã€‚WGSLæœ‰ <code class="notranslate" translate="no">select</code>.</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">  let a = select(falseExpression, trueExpression, condition);
</pre>
<h3 id="-and----are-statements-not-expressions"><code class="notranslate" translate="no">++</code> and <code class="notranslate" translate="no">--</code> are statements, not expressions.</h3>
<p>è®¸å¤šè¯­è¨€æœ‰ *å‰ç½®é€’å¢ * å’Œ <em>åç½®é€’å¢</em> è¿ç®—ç¬¦ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">// JavaScript
let a = 5;
let b = a++;  // b = 5, a = 6  (å‰ç½®é€’å¢)
let c = ++a;  // c = 7, a = 7  (åç½®é€’å¢)
</pre>
<p>WGSLæ²¡æœ‰è¿™äº›ã€‚å®ƒåªæœ‰é€’å¢å’Œé€’å‡è¯­å¥ã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">// WGSL
var a = 5;
a++;          // a ç°åœ¨æ˜¯ 6
*++a;          // é”™è¯¯ï¼šæ²¡æœ‰å‰ç½®é€’å¢è¿™ç§ä¸œè¥¿
*let b = a++;  // é”™è¯¯ï¼ša++ ä¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œæ˜¯ä¸€ä¸ªè¯­å¥ï¼ˆè¯‘è€…æ³¨ï¼šè¯­å¥ï¼ˆstatementï¼‰ä¸è¿”å›å€¼ï¼‰
</pre>
<h2 id="---ä¸æ˜¯è¡¨è¾¾å¼ï¼Œå®ƒä»¬æ˜¯èµ‹å€¼è¯­å¥"><code class="notranslate" translate="no">+=</code>, <code class="notranslate" translate="no">-=</code> ä¸æ˜¯è¡¨è¾¾å¼ï¼Œå®ƒä»¬æ˜¯èµ‹å€¼è¯­å¥</h2>
<pre class="prettyprint showlinemods notranslate lang-js" translate="no">// JavaScript
let a = 5;
a += 2;          // a = 7
let b = a += 2;  // a = 9, b = 9
</pre>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">// WGSL
let a = 5;
a += 2;           // a æ˜¯ 7
*let b = a += 2;  // é”™è¯¯ï¼ša += 2 ä¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼
</pre>
<h2 id="è°ƒåˆ¶ï¼ˆswizzlesï¼‰ä¸èƒ½å‡ºç°åœ¨å·¦è¾¹">è°ƒåˆ¶ï¼ˆswizzlesï¼‰ä¸èƒ½å‡ºç°åœ¨å·¦è¾¹</h2>
<p>åœ¨æŸäº›è¯­è¨€ä¸­å¯ä»¥è¿™æ ·åšï¼Œä½†åœ¨WGSLä¸­ä¸å¯ä»¥ã€‚</p>
<pre class="prettyprint showlinemods notranslate notranslate" translate="no">var color = vec4f(0.25, 0.5, 0.75, 1);
*color.rgb = color.bgr; // é”™è¯¯
color = vec4(color.bgr, color.a);  // å½³äº
</pre>
<p>Noteï¼šæœ‰ä¸€ä¸ªæè®®æ˜¯å¢åŠ è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h2 id="å‡è£…èµ‹å€¼ç»™-_">å‡è£…èµ‹å€¼ç»™ <code class="notranslate" translate="no">_</code></h2>
<p><code class="notranslate" translate="no">_</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å˜é‡ï¼Œä½ å¯ä»¥èµ‹å€¼ç»™å®ƒï¼Œæ¥è®©æŸäº›ä¸œè¥¿çœ‹èµ·æ¥è¢«ä½¿ç”¨äº†ï¼Œä½†å®é™…ä¸Šå¹¶ä¸ä½¿ç”¨å®ƒã€‚</p>
<pre class="prettyprint showlinemods notranslate lang-wgsl" translate="no">@group(0) @binding(0) var&lt;uniforms&gt; uni1: vec4f;
@group(0) @binding(0) var&lt;uniforms&gt; uni2: mat4x4f;

@vertex fn vs1(): @builtin(position) vec4f {
  return vec4f(0);
}

@vertex fn vs2(): @builtin(position) vec4f {
  _ = uni1;
  _ = uni2;
  return vec4f(0);
}
</pre>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ— è®ºæ˜¯ <code class="notranslate" translate="no">uni1</code> è¿˜æ˜¯ <code class="notranslate" translate="no">uni2</code> éƒ½æ²¡æœ‰è¢« <code class="notranslate" translate="no">vs1</code> è®¿é—®åˆ°ï¼Œå› æ­¤å¦‚æœåœ¨ç®¡çº¿ä¸­ä½¿ç”¨ <code class="notranslate" translate="no">vs1</code>ï¼Œå®ƒä»¬éƒ½ä¸ä¼šä½œä¸ºå¿…éœ€çš„ç»‘å®šå‡ºç°ã€‚è€Œ <code class="notranslate" translate="no">vs2</code> åˆ™å¼•ç”¨äº† <code class="notranslate" translate="no">uni1</code> å’Œ <code class="notranslate" translate="no">uni2</code>ï¼Œæ‰€ä»¥å½“ä½¿ç”¨ <code class="notranslate" translate="no">vs2</code> åœ¨ç®¡çº¿ä¸­æ—¶ï¼Œå®ƒä»¬éƒ½ä¼šä½œä¸ºå¿…éœ€çš„ç»‘å®šå‡ºç°ã€‚</p>
<p class="copyright" data-fill-with="copyright">  <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> Â© 2023 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>Â®</sup> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>JavaScriptä¸­çš„å˜é‡æœ‰åŸºç¡€ç±»å‹ <code class="notranslate" translate="no">undefined</code>, <code class="notranslate" translate="no">null</code>, <code class="notranslate" translate="no">boolean</code>, <code class="notranslate" translate="no">number</code>, <code class="notranslate" translate="no">string</code>, <code class="notranslate" translate="no">reference-to-object</code>ã€‚
æ–°æ‰‹ç¨‹åºå‘˜ä»¬å¯èƒ½ä¼šå›  <code class="notranslate" translate="no">const o = {name: 'foo'}; o.name = 'bar';</code> èƒ½å¤Ÿå·¥ä½œè€Œå›°æƒ‘ï¼Œå› ä¸º <code class="notranslate" translate="no">o</code> å·²ç»è¢«å£°æ˜ä¸ºäº† <code class="notranslate" translate="no">const</code>ã€‚
äº‹å®ä¸Š <code class="notranslate" translate="no">o</code> ç¡®å®æ˜¯å¸¸é‡ï¼Œå®ƒæ˜¯å¯¹ä¸€ä¸ªå¯¹è±¡çš„å¸¸é‡å¼•ç”¨ã€‚ä½ ä¸èƒ½å†æ¬¡è®¾ç½® <code class="notranslate" translate="no">o</code> å¼•ç”¨å“ªä¸ªå¯¹è±¡ï¼Œä½†ä½ å¯ä»¥æ”¹å˜å¯¹è±¡æœ¬èº«ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p>
</li>
</ol>
</section>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgpu/lessons/webgpu-wgsl.html">English
    </option><option value="/webgpu/lessons/es/webgpu-wgsl.html">Spanish
    </option><option value="/webgpu/lessons/ja/webgpu-wgsl.html">æ—¥æœ¬èª
    </option><option value="/webgpu/lessons/ko/webgpu-wgsl.html">í•œêµ­ì–´
    </option><option value="/webgpu/lessons/ru/webgpu-wgsl.html">Ğ ÑƒÑÑĞºĞ¸Ğ¹
    </option><option value="/webgpu/lessons/tr/webgpu-wgsl.html">TÃ¼rkÃ§e
    </option><option value="/webgpu/lessons/uk/webgpu-wgsl.html">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°
    </option><option value="/webgpu/lessons/zh_cn/webgpu-wgsl.html" selected="">ç®€ä½“ä¸­æ–‡
</option></select>


        <div id="toc">
          <ul>  <li>åŸºç¡€æ¦‚å¿µ</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-fundamentals.html">åŸºç¡€çŸ¥è¯†</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-inter-stage-variables.html">Inter-stage å˜é‡</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-uniforms.html">Uniforms</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-storage-buffers.html">å­˜å‚¨ç¼“å†²åŒºï¼ˆStorage Bufferï¼‰</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-vertex-buffers.html">é¡¶ç‚¹ç¼“å†²åŒºï¼ˆVertex Buffersï¼‰</a></li>
  <li>çº¹ç†</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-textures.html">çº¹ç†</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-importing-textures.html">Loading Images</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-textures-external-video.html">Using Video</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-cube-maps.html">Cube Maps</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-storage-textures.html">Storage Textures</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-multisampling.html">Multisampling / MSAA</a></li>
        </ul>
<li><a href="/webgpu/lessons/zh_cn/webgpu-constants.html">Constants</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-memory-layout.html">æ•°æ®å†…å­˜å¸ƒå±€</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-transparency.html">Transparency and Blending</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-bind-group-layouts.html">Bind Group Layouts</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-copying-data.html">Copying Data</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-limits-and-features.html">Optional Features and Limits</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-timing.html">Timing Performance</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-wgsl.html">WGSL</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-how-it-works.html">How It Works</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-compatibility-mode.html">Compatibility Mode</a></li>
        </ul>
  <li>3Dæ•°å­¦</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-translation.html">Translation</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-rotation.html">Rotation</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-scale.html">Scale</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-matrix-math.html">Matrix Math</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-orthographic-projection.html">Orthographic Projection</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-perspective-projection.html">Perspective Projection</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-cameras.html">Cameras</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-matrix-stacks.html">Matrix Stacks</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-scene-graphs.html">Scene Graphs</a></li>
        </ul>
  <li>å…‰ç…§</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-lighting-directional.html">Directional Lighting</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-lighting-point.html">Point Lighting</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-lighting-spot.html">Spot Lighting</a></li>
        </ul>
  <li>æŠ€æœ¯</li>
        <ul>
            <li>2D</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-large-triangle-to-cover-clip-space.html">Large Clip Space Triangle</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-environment-maps.html">Environment maps</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-skybox.html">Skyboxes</a></li>
        </ul>
        </ul>
  <li>è®¡ç®—ç€è‰²å™¨</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-compute-shaders.html">Compute Shader Basics</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-compute-shaders-histogram.html">Image Histogram</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-compute-shaders-histogram-part-2.html">Image Histogram Part 2</a></li>
        </ul>
  <li>æ‚é¡¹</li>
        <ul>
          <li><a href="/webgpu/lessons/zh_cn/webgpu-resizing-the-canvas.html">Resizing the Canvas</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-multiple-canvases.html">Multiple Canvases</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-points.html">Points</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-from-webgl.html">WebGPU from WebGL</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-optimization.html">Speed and Optimization</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-debugging.html">Debugging and Errors</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-resources.html">Resources / References</a></li>
<li><a href="/webgpu/lessons/zh_cn/webgpu-wgsl-function-reference.html">WGSL Function Reference</a></li>
<li><a href="/webgpu/lessons/resources/wgsl-offset-computer.html">WGSL Offset Computer</a></li>
        </ul></ul>
<ul>
  <li><a href="https://github.com/webgpu/webgpufundamentals">github</a></li>
  <li><a href="https://google.github.io/tour-of-wgsl/">Tour of WGSL</a></li>
  <li><a href="https://gpuweb.github.io/types/">WebGPU API Reference</a></li>
  <li><a href="https://www.w3.org/TR/webgpu/">WebGPU Spec</a></li>
  <li><a href="https://www.w3.org/TR/WGSL/">WGSL Spec</a></li>
  <li><a href="https://webgpureport.org">WebGPUReport.org</a></li>
  <li><a href="https://web3dsurvey.com/webgpu">Web3DSurvey.com</a></li>
</ul>
        </div>
    </div>
    <div class="lesson-comments">
        
<div>æœ‰ç–‘é—®? <a href="https://stackoverflow.com/questions/tagged/webgpu">åœ¨stackoverflowä¸Šæé—®</a>.</div>
<div>Issue/Bug? <a href="https://github.com/webgpu/webgpufundamentals/issues">åœ¨GitHubä¸Šæissue</a>.</div>
  

        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
              this.page.url = `${window.location.origin}${window.location.pathname}`;
              this.page.identifier = `WebGPU WGSL`;
            };
            (function() { // DON'T EDIT BELOW THIS LINE
                if (window.location.hostname.indexOf("webgpufundamentals.org") < 0) {
                    return;
                }
                var d = document, s = d.createElement('script');
                s.src = 'https://webgpufundamentals-org.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>

<script>
const settings = {
  contribTemplate: "æ„Ÿè°¢ <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>çš„ <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} æ¬¡è´¡çŒ®</a>",
  owner: "gfxfundamentals",
  repo: "webgpufundamentals",
};
</script>
<script src="/contributors.js"></script>
<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
<script src="/3rdparty/jquery-3.3.1.slim.min.js"></script>
<script src="/webgpu/lessons/resources/prettify.js"></script>
<script src="/webgpu/lessons/resources/lesson.js" type="module"></script>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-92BFT5PE4H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-92BFT5PE4H');
</script>






</body></html>